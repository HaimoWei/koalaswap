# KoalaSwap 文案英文化与多语言规划

本计划用于指导如何将现有代码中的中文文案（前端页面、后端返回消息、脚本输出等）系统性地翻译成专业英文，并为未来支持多语言预留空间。

目标：在不影响现有业务逻辑的前提下，把 KoalaSwap 打造成面向海外用户的企业级二手交易平台网站。

---

## 1️⃣ 范围与优先级

**优先范围（第一阶段）**
- 前端 Web 端：
  - `frontend-web/src/pages` 下的所有页面标题、按钮文案、提示语。
  - `frontend-web/src/features` 下的核心业务模块（商品、订单、聊天、评价、认证等）中用户可见的文案。
- 后端：
  - 核心异常信息、校验提示（例如登录/注册、下单、支付、聊天相关）。
  - 接口返回中暴露给前端的 `message` 字段。

**后续范围（第二阶段）**
- 数据集与种子数据中的中文（商品标题、描述、分类名称等）。
- 运维/脚本输出中用户可见的信息（必要时再英文化）。

---

## 2️⃣ 总体处理策略

1. **不直接在代码里一边看一边改**  
   先“盘点所有中文”，整理成一份“文案清单”，再在清单上统一翻译与审核，最后再回写到代码中。

2. **先支持纯英文，再考虑中英双语**  
   第一阶段的目标是把界面和接口全部英文化；如果后续需要中英双语，再在此基础上引入 i18n 方案。

3. **统一术语和风格**  
   为二手交易平台定义一套统一的英文术语表，并在翻译过程中严格遵守，保证整站风格一致、专业。

---

## 3️⃣ 术语与文案风格约定

**核心业务术语（建议初稿，可在执行前调整）**
- 商品：`Item` / `Product`（页面上统一用 `Item`，技术文档可用 `Product`）
- 发布（商品）：`List an item` / `Create listing`
- 二手交易平台：`pre‑owned marketplace` / `second‑hand marketplace`
- 卖家：`Seller`
- 买家：`Buyer`
- 订单：`Order`
- 评价：`Review`
- 聊天：`Chat` / `Messages`
- 收藏：`Favorites` / `Wishlist`
- 首页轮播图：`Promo banner` / `Hero banner`
- 价格：`Price`
- 运费：`Shipping fee`
- 包邮：`Free shipping`

**风格约定**
- 面向 C 端用户的页面文案：  
  - 简洁、直接、友好，例如：`Start selling in minutes.`  
  - 避免过于技术化的词汇。
- 错误提示与表单校验：  
  - 明确指出问题与动作，例如：`Please enter a valid email address.`  
  - 安全相关错误避免暴露细节，例如：`Invalid credentials.` 不要提示“用户名不存在/密码错误”之类的细节。
- 后台/运营向界面（如果有）：  
  - 可以稍微偏业务/运营语言，例如：`Pending reviews`, `Dispute management`。

> 在实际执行前，可以先在项目 Wiki 或单独文档中维护一份 `术语对照表（中文→英文）`，后续翻译时始终参考这份表。

---

## 4️⃣ 执行步骤总览

我们整体按“盘点 → 翻译 → 回写 → 验收”的顺序执行：

1. **盘点所有中文文案**
2. **在文案清单上逐条翻译 + 审核**
3. **将英文文案回写到前端代码**
4. **将英文文案回写到后端代码**
5. **从用户视角完整走一遍关键流程进行验收**
6. （可选）**引入 i18n 机制支持中英双语**

下面对每一步做更具体的说明。

---

## 5️⃣ 步骤一：盘点所有中文文案

目标：得到一份“完整、去重”的中文文案清单，按模块归档，避免遗漏。

**操作方式**
- 使用搜索工具（例如 `rg`）在仓库中搜索中文字符，定位所有硬编码中文字符串。
- 按模块归类整理，建议以下维度：
  - 前端页面级文案（`frontend-web/src/pages/...`）
  - 前端组件级文案（`frontend-web/src/features/...`）
  - 后端返回消息（异常信息、校验消息、`ApiResponse` 中的 message）
  - 脚本输出/运维提示（可以先标记，后续按需处理）

**产出物**
- 一份文案清单（可以是 Markdown / 表格），类似：

| 模块 | 位置 | 中文文案 | 用途说明 |
|------|------|----------|----------|
| 前端-登录页 | `LoginPage.tsx` | "欢迎回来" | 登录页标题 |
| 前端-商品详情 | `ProductDetailPage.tsx` | "联系卖家" | 按钮文案 |
| 后端-用户模块 | `UserController` | "邮箱已被注册" | 注册失败提示 |

> 实施时，我们会先从高优先级页面开始（首页 / 商品详情 / 下单 / 支付 / 聊天），逐步扩展到全站。

---

## 6️⃣ 步骤二：逐条翻译与审核

目标：在清单上把所有中文翻译成专业英文，并统一术语和语气。

**处理方式**
- 以文案清单为基础，增加一个英文列 `English Copy`，逐条翻译。
- 翻译原则：
  - 优先保证“意思对”和“用户体验好”，其次才是逐字对应。
  - 遇到过于本土化/口语化文案，可以适当重写为更国际化的表达。
  - 与术语表有冲突时，以统一术语为准（例如一律用 `Item` 而不是混用 `Product / Good / Item`）。

**产出物**
- 完整的中英对照文案表，例如：

| 模块 | 中文文案 | English Copy |
|------|----------|--------------|
| 登录页 | 欢迎回来 | Welcome back |
| 商品详情 | 联系卖家 | Contact seller |
| 提示 | 操作成功 | Action completed successfully. |

> 这一步我们可以多次迭代，你可以对关键页面的文案做产品视角的微调。

---

## 7️⃣ 步骤三：回写到前端代码

目标：让 Web 前端界面完全使用英文文案，对用户可见的中文全部清零。

**执行策略**
- 第一阶段可以先采取“轻量级 i18n”的方式：
  - 对于重复使用的文案（比如按钮、通用提示），可以抽到一个简单的常量文件（例如 `frontend-web/src/i18n/en.ts`）。
  - 对于只在单个组件使用的文案，可以先直接用英文字面量替换，不强制抽离。
- 替换时保持组件结构和逻辑不变，只改字符串。

**注意事项**
- 保证 `aria-label`、SEO 相关文案（如 `<title>`、meta description）也一并英文化。
- 不修改业务常量值（例如状态码、数据库字段值），只改“展示给用户看的文字”。

---

## 8️⃣ 步骤四：回写到后端代码

目标：后端暴露给前端/用户的所有文字信息统一为英文。

**重点改动位置**
- 统一 `ApiResponse` 中的 `message` 字段为英文（创建成功/登录失败/权限不足等）。
- Bean Validation 的消息（如果有自定义 message）改为英文。
- 全局异常处理里的默认错误提示。

**保持不变的部分**
- 数据库中的技术性字段/状态码（例如 `PENDING`, `PAID` 等英文字段可以直接复用）。
- 日志中的技术信息可以暂时保持，目前优先改对用户可见的信息。

---

## 9️⃣ 步骤五：从用户视角整体验收

目标：确保从真实用户使用视角看，整个站点的英文自然、统一、没有残留中文。

**建议按以下路径走一遍：**
- 未登录用户流程：
  - 访问首页 → 浏览商品列表 → 搜索 → 查看商品详情。
- 新用户流程：
  - 注册账号 → 登录 → 完善个人信息。
- 核心交易流程：
  - 发布商品 → 被其他账号浏览/聊天 → 创建订单 → 支付（如果有） → 完成评价。
- 站内沟通：
  - 聊天列表 → 会话详情 → 发送消息 / 上传图片。

在验收过程中，记录：
- 残留中文或奇怪的英文表达。
- 相同概念不同说法的地方（例如有的地方是 `Item`，有的是 `Product`）。

根据验收结果，对文案表进行最后一轮统一调整，并同步回代码。

---

## 🔟 步骤六（可选）：引入 i18n 支持多语言

在第一阶段英文化完成后，如果需要中英双语，可以按以下方式演进：

1. 引入前端 i18n 库（例如 `react-intl` 或轻量方案）。
2. 将现有英文文案迁移为 `en` 语言包。
3. 基于原始中文文案表恢复/整理 `zh` 语言包。
4. 在用户设置或浏览器语言基础上选择语言。

这一步不是当前必须，可以在英文版本稳定后再推进。

---

## ✅ 下一步执行建议

1. 从 `frontend-web` 开始，先选定一批“核心页面”（首页、商品详情、下单/订单相关页面）作为第一批目标。
2. 按“步骤一：盘点所有中文文案”的方式，先把这些页面中的中文罗列出来，整理成文案清单。
3. 在文案清单上完成第一轮中→英翻译（我可以根据清单逐条给出英文建议），你做产品视角的审核。
4. 审核通过后，再批量回写到前端代码中。

后续可以按模块/里程碑逐步推进，最终覆盖全站与后端返回信息。***
