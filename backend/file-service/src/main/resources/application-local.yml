spring:
  config:
    activate:
      on-profile: local
  data:
    redis:
      host: localhost
      port: 16379

server:
  port: 12647

app:
  jwt:
    secret: "p9P2JYpN4mVJXWm7XyQw6kBsF3uCz7rGQh5M8tQ2nA1rS6vY0kL9dH4eT8uZ3xB1"
  token-freshness:
    use-redis: true
    cache-ttl-sec: 8
    pubsub-channel: auth:pv:changed
  user-service:
    internal-base-url: http://localhost:12649
  file:
    region: ${AWS_REGION:ap-southeast-2}
    bucket-name: ${S3_BUCKET:koalaswap}
    cdn-base-url: ${CDN_BASE:https://d3367sa0s3hyt3.cloudfront.net}
    presigned-url-expiration-minutes: ${AWS_PRESIGNED_MINUTES:15}
    categories:
      avatar:
        max-file-size: 5242880
        path-prefix: images/users
        allowed-mime-types:
          - image/jpeg
          - image/png
          - image/webp
        allowed-extensions:
          - .jpg
          - .jpeg
          - .png
          - .webp
        enable-compress: true
        enable-watermark: false
      product:
        max-file-size: 10485760
        path-prefix: images/users
        allowed-mime-types:
          - image/jpeg
          - image/png
          - image/webp
        allowed-extensions:
          - .jpg
          - .jpeg
          - .png
          - .webp
        enable-compress: true
        enable-watermark: false
      chat:
        max-file-size: 20971520
        path-prefix: files/chats
        allowed-mime-types:
          - image/jpeg
          - image/png
          - image/webp
          - image/gif
        allowed-extensions:
          - .jpg
          - .jpeg
          - .png
          - .webp
          - .gif
        enable-compress: true
        enable-watermark: false
      document:
        max-file-size: 52428800
        path-prefix: files/documents
        allowed-mime-types:
          - application/pdf
          - application/msword
          - application/vnd.openxmlformats-officedocument.wordprocessingml.document
        allowed-extensions:
          - .pdf
          - .doc
          - .docx
        enable-compress: false
        enable-watermark: false
      assets:
        max-file-size: 5242880
        path-prefix: assets
        allowed-mime-types:
          - image/svg+xml
          - image/png
          - image/webp
          - image/jpeg
        allowed-extensions:
          - .svg
          - .png
          - .webp
          - .jpg
          - .jpeg
        enable-compress: false
        enable-watermark: false

logging:
  level:
    com.koalaswap.common.security: DEBUG
    com.koalaswap.file: DEBUG
    org.springframework.security: INFO
management:
  endpoints:
    web:
      exposure:
        include: health,info
  endpoint:
    health:
      probes:
        enabled: true
